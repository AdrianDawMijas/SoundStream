<header class="bg-transparent w-100 position-relative z-3">
  <nav class="navbar navbar-expand-md navbar-light">
    <div class="container-xl">
      <a class="navbar-brand d-lg-none fw-bold fs-4 text-white" routerLink="/">SoundStream</a>

      <!-- Botón Hamburguesa -->
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar"
              aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars text-white fs-3"></i>
      </button>

      <!-- Menú Offcanvas -->
      <div class="offcanvas offcanvas-start bg-dark text-white d-lg-flex d-block flex-grow-1 w-auto"
           tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">

        <!-- Header del menú solo en móvil -->
        <div class="offcanvas-header d-lg-none">
          <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                  aria-label="Close"></button>
        </div>

        <!-- Cuerpo del menú -->
        <div class="offcanvas-body">
          <ng-container *ngIf="loggedIn; else notLoggedIn">
            <ul class="navbar-nav d-flex align-items-center gap-2 ms-auto">
              <li class="nav-item">
                <a class="btn btn-outline-light" routerLink="/library" (click)="closeMenu()">Library</a>
              </li>
              <li class="nav-item">
                <a class="btn btn-outline-light" routerLink="/music-generator" (click)="closeMenu()">Create</a>
              </li>
              <li class="nav-item dropdown">
                <a class="btn btn-outline-light dropdown-toggle d-flex align-items-center" data-bs-toggle="dropdown" role="button">
                  <i class="fas" [ngClass]="[isAdmin ? 'fa-gear text-white' : 'fa-user-circle text-white', 'fs-5', 'me-1']"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-center">
                  <li><a class="dropdown-item" (click)="logout()">Logout</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="btn btn-secondary text-white" routerLink="/pricing" (click)="closeMenu()">Upgrade</a>
              </li>
            </ul>
          </ng-container>

          <!-- Si NO está logueado -->
          <ng-template #notLoggedIn>
            <ul class="navbar-nav d-flex align-items-center gap-2 ms-auto">
              <li class="nav-item">
                <a class="btn btn-outline-light" routerLink="/music-generator" (click)="closeMenu()">Create</a>
              </li>
              <li class="nav-item">
                <a class="btn btn-outline-light" routerLink="/login" (click)="closeMenu()">Log in</a>
              </li>
              <li class="nav-item">
                <a class="btn btn-secondary text-white" routerLink="/register" (click)="closeMenu()">Start Free Now</a>
              </li>
            </ul>
          </ng-template>
        </div>
      </div>
    </div>
  </nav>
</header>
